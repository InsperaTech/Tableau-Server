from tableau_api_lib import TableauServerConnection
 
# Set your Tableau Server information
tableau_server = 'https://your-tableau-server'
username = 'your-username'
password = 'your-password'
site = 'your-site'  # If you're using the default site, set this to an empty string ''
 
# Create a connection to Tableau Server
connection = TableauServerConnection(server=tableau_server, username=username, password=password, site=site)
 
# Sign in to Tableau Server
connection.sign_in()
 
# Get the list of sites
sites = connection.query_sites()
 
# Print the list of sites
for site in sites:
    print(f"Site ID: {site.id}, Site Name: {site.name}")
 
# Sign out from Tableau Server
connection.sign_out()
